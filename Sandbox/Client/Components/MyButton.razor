<MudButton Disabled="@(ButtonDisabled || Disabled)"
           Color="Color"
           FullWidth="true"
           DisableRipple="ButtonDisabled"
           DisableElevation="ButtonDisabled"
           Command="Command"
           CommandParameter="CommandParameter"
           Variant="Variant"
           Style="@(ButtonDisabled?"opacity:0.6":string.Empty)">
    @(Name??Command.Name)
</MudButton>

@code {
    [Parameter]
    public string Name { get; set; }

    bool ButtonDisabled
    {
        get
        {
            return ((Command.Running && DisabledWhileRunning) || Disabled);
        }
    }

    [Parameter]
    public object CommandParameter { get; set; }
    [Parameter]
    public bool DisabledWhileRunning { get; set; } = true;
    [Parameter]
    public bool Disabled { get; set; }
    Command _command;
    [Parameter]
    public Command Command
    {
        get => _command;
        set => _command = value;
    }

    [Parameter]
    public Color Color { get; set; } = Color.Primary;
    [Parameter]
    public Variant Variant { get; set; } = Variant.Filled;
}
